<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Variable Labeling with LLMs • psychinterpreter</title>
<!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><script src="03-Variable_Labeling_files/libs/quarto-html/popper.min.js"></script><script src="03-Variable_Labeling_files/libs/quarto-html/tippy.umd.min.js"></script><link href="03-Variable_Labeling_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="03-Variable_Labeling_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="03-Variable_Labeling_files/libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="03-Variable_Labeling_files/libs/htmlwidgets-1.6.4/htmlwidgets.js"></script><link href="03-Variable_Labeling_files/libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="03-Variable_Labeling_files/libs/datatables-binding-0.34.0/datatables.js"></script><link href="03-Variable_Labeling_files/libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="03-Variable_Labeling_files/libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">
<link href="03-Variable_Labeling_files/libs/crosstalk-1.2.2/css/crosstalk.min.css" rel="stylesheet">
<script src="03-Variable_Labeling_files/libs/crosstalk-1.2.2/js/crosstalk.min.js"></script><link href="03-Variable_Labeling_files/libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="03-Variable_Labeling_files/libs/pagedtable-1.1/js/pagedtable.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Variable Labeling with LLMs">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">psychinterpreter</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/01-Getting_Started.html">Getting Started with psychinterpreter</a></li>
    <li><a class="dropdown-item" href="../articles/02-Usage_Patterns.html">`interpret()` Usage Patterns</a></li>
    <li><a class="dropdown-item" href="../articles/03-Variable_Labeling.html">Variable Labeling with LLMs</a></li>
    <li><a class="dropdown-item" href="../articles/04-Gaussian_Mixture.html">Cluster Analysis via Gaussian Mixture Models</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="nav-link" href="https://github.com/matthiaskloft/psychinterpreter/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-quarto">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Variable Labeling with LLMs</h1>
      <p class="subtitle">Generate Clean Variable Labels from Descriptions</p>
      <p class="author">Matthias Kloft</p>
      <p class="date">2025-11-23</p>

      <small class="dont-index">Source: <a href="https://github.com/matthiaskloft/psychinterpreter/blob/HEAD/vignettes/articles/03-Variable_Labeling.qmd"><code>vignettes/articles/03-Variable_Labeling.qmd</code></a></small>
      <div class="d-none name"><code></code></div>
    </div>






    <section class="level2"><h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>The <code><a href="../reference/label_variables.html">label_variables()</a></code> function uses Large Language Models to generate short, descriptive labels from variable descriptions. This is especially useful for:</p>
<ul>
<li>
<strong>Psychometric data</strong> with cryptic item codes (e.g., <code>A1</code>, <code>C2</code>, <code>E3</code>)</li>
<li>
<strong>Survey data</strong> with generic names (e.g., <code>q1</code>, <code>q2</code>, <code>item_01</code>)</li>
<li>
<strong>Any dataset</strong> where variable names need to be more descriptive</li>
</ul>
<p>The function works in <strong>two phases</strong>:</p>
<ol type="1">
<li>
<strong>Semantic Generation</strong>: LLM creates meaningful labels from descriptions</li>
<li>
<strong>Format Processing</strong>: Apply transformations (case, separators, abbreviations, etc.)</li>
</ol>
<p>This separation allows you to <strong>reformat labels without calling the LLM again</strong>, saving time and API costs.</p>
</section><section class="level2"><h2 id="setup">Setup<a class="anchor" aria-label="anchor" href="#setup"></a>
</h2>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load packages</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="st"><a href="https://github.com/trinker/pacman" class="external-link">"pacman"</a></span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"pacman"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">pacman</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/pacman/man/p_load.html" class="external-link">p_load</a></span><span class="op">(</span></span>
<span>  <span class="st">"psychinterpreter"</span>,  <span class="co"># This package</span></span>
<span>  <span class="st">"psych"</span>,             <span class="co"># For BFI data</span></span>
<span>  <span class="st">"DT"</span>                 <span class="co"># For nice tables</span></span>
<span><span class="op">)</span></span></code></pre></div>
</details>
</div>
</section><section class="level2"><h2 id="example-data-big-five-inventory">Example Data: Big Five Inventory<a class="anchor" aria-label="anchor" href="#example-data-big-five-inventory"></a>
</h2>
<p>The BFI dataset contains 25 personality items with cryptic codes like <code>A1</code>, <code>C2</code>, <code>E3</code>:</p>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load Big Five Inventory data</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"bfi"</span>, package <span class="op">=</span> <span class="st">"psych"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"bfi.dictionary"</span>, package <span class="op">=</span> <span class="st">"psych"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Extract first 10 items as examples</span></span>
<span><span class="va">bfi_subset</span> <span class="op">&lt;-</span> <span class="va">bfi</span><span class="op">[</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">]</span></span>
<span><span class="va">bfi_dict</span> <span class="op">&lt;-</span> <span class="va">bfi.dictionary</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, <span class="op">]</span></span>
<span></span>
<span><span class="co"># Create variable_info data frame</span></span>
<span><span class="va">variable_info</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  variable <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">bfi_dict</span><span class="op">)</span>,</span>
<span>  description <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">bfi_dict</span><span class="op">$</span><span class="va">Item</span><span class="op">)</span>,</span>
<span>  stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Show the data</span></span>
<span><span class="fu">DT</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html" class="external-link">datatable</a></span><span class="op">(</span><span class="va">variable_info</span>, options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>scrollX <span class="op">=</span> <span class="cn">TRUE</span>, pageLength <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>, rownames <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
</details><div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-1236f1423065264ba2a4" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-1236f1423065264ba2a4">{"x":{"filter":"none","vertical":false,"data":[["A1","A2","A3","A4","A5","C1","C2","C3","C4","C5"],["Am indifferent to the feelings of others.","Inquire about others' well-being.","Know how to comfort others.","Love children.","Make people feel at ease.","Am exacting in my work.","Continue until everything is perfect.","Do things according to a plan.","Do things in a half-way manner.","Waste my time."]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>variable<\/th>\n      <th>description<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"pageLength":10,"columnDefs":[{"name":"variable","targets":0},{"name":"description","targets":1}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>These cryptic codes (<code>A1</code>, <code>A2</code>, etc.) are not very readable. Let’s generate descriptive labels!</p>
</section><section class="level2"><h2 id="basic-labeling">Basic Labeling<a class="anchor" aria-label="anchor" href="#basic-labeling"></a>
</h2>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Set provider and model</span></span>
<span><span class="va">provider</span> <span class="op">&lt;-</span> <span class="st">"anthropic"</span></span>
<span><span class="va">llm</span> <span class="op">&lt;-</span> <span class="fu">ellmer</span><span class="fu">::</span><span class="fu"><a href="https://ellmer.tidyverse.org/reference/chat_anthropic.html" class="external-link">models_anthropic</a></span><span class="op">(</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span>, <span class="st">"id"</span><span class="op">]</span></span></code></pre></div>
</details>
</div>
<section class="level3"><h3 id="short-labels-1-3-words">Short Labels (1-3 words)<a class="anchor" aria-label="anchor" href="#short-labels-1-3-words"></a>
</h3>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">labels_short</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/label_variables.html">label_variables</a></span><span class="op">(</span></span>
<span>  variable_info <span class="op">=</span> <span class="va">variable_info</span>,</span>
<span>  llm_provider <span class="op">=</span> <span class="va">provider</span>,</span>
<span>  llm_model <span class="op">=</span> <span class="va">llm</span>,</span>
<span>  label_type <span class="op">=</span> <span class="st">"short"</span>,  <span class="co"># 1-3 words</span></span>
<span>  case <span class="op">=</span> <span class="st">"title"</span>         <span class="co"># Title Case</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View results</span></span>
<span><span class="va">labels_short</span><span class="op">$</span><span class="va">labels_formatted</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">DT</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html" class="external-link">datatable</a></span><span class="op">(</span>options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>scrollX <span class="op">=</span> <span class="cn">TRUE</span>, pageLength <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>, rownames <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
</details><div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-81d17d6c6da24a5f434e" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-81d17d6c6da24a5f434e">{"x":{"filter":"none","vertical":false,"data":[["A1","A2","A3","A4","A5","C1","C2","C3","C4","C5"],["Indifferent To Others","Ask About Well-Being","Comfort Others","Love Children","Put Others At Ease","Exacting Work Standards","Pursue Perfection","Plan-Oriented","Half-Way Effort","Waste Time"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>variable<\/th>\n      <th>label<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"pageLength":10,"columnDefs":[{"name":"variable","targets":0},{"name":"label","targets":1}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section><section class="level3"><h3 id="phrase-labels-4-7-words">Phrase Labels (4-7 words)<a class="anchor" aria-label="anchor" href="#phrase-labels-4-7-words"></a>
</h3>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">labels_phrase</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/label_variables.html">label_variables</a></span><span class="op">(</span></span>
<span>  variable_info <span class="op">=</span> <span class="va">variable_info</span>,</span>
<span>  llm_provider <span class="op">=</span> <span class="va">provider</span>,</span>
<span>  llm_model <span class="op">=</span> <span class="va">llm</span>,</span>
<span>  label_type <span class="op">=</span> <span class="st">"phrase"</span>,  <span class="co"># 4-7 words</span></span>
<span>  case <span class="op">=</span> <span class="st">"sentence"</span>       <span class="co"># Sentence case</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">labels_phrase</span><span class="op">$</span><span class="va">labels_formatted</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">DT</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html" class="external-link">datatable</a></span><span class="op">(</span>options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>scrollX <span class="op">=</span> <span class="cn">TRUE</span>, pageLength <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>, rownames <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
</details><div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-74e2867cdcb8e6aa04ea" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-74e2867cdcb8e6aa04ea">{"x":{"filter":"none","vertical":false,"data":[["A1","A2","A3","A4","A5","C1","C2","C3","C4","C5"],["Indifference to others","Tendency to ask about others","Ability to provide comfort to others","Affinity for and enjoyment of children","Skill in making others feel comfortable","Demands high standards in work quality","Pursues perfection in all tasks","Preference for planned and organized approaches","Tendency to complete tasks incompletely","Likelihood of wasting available time"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>variable<\/th>\n      <th>label<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"pageLength":10,"columnDefs":[{"name":"variable","targets":0},{"name":"label","targets":1}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section><section class="level3"><h3 id="acronym-labels-3-5-characters">Acronym Labels (3-5 characters)<a class="anchor" aria-label="anchor" href="#acronym-labels-3-5-characters"></a>
</h3>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">labels_acronym</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/label_variables.html">label_variables</a></span><span class="op">(</span></span>
<span>  variable_info <span class="op">=</span> <span class="va">variable_info</span>,</span>
<span>  llm_provider <span class="op">=</span> <span class="va">provider</span>,</span>
<span>  llm_model <span class="op">=</span> <span class="va">llm</span>,</span>
<span>  label_type <span class="op">=</span> <span class="st">"acronym"</span>,  <span class="co"># 3-5 character acronyms</span></span>
<span>  case <span class="op">=</span> <span class="st">"upper"</span>           <span class="co"># UPPERCASE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">labels_acronym</span><span class="op">$</span><span class="va">labels_formatted</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">DT</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html" class="external-link">datatable</a></span><span class="op">(</span>options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>scrollX <span class="op">=</span> <span class="cn">TRUE</span>, pageLength <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>, rownames <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
</details><div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-b116e75509e9c5a8e8dc" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-b116e75509e9c5a8e8dc">{"x":{"filter":"none","vertical":false,"data":[["A1","A2","A3","A4","A5","C1","C2","C3","C4","C5"],["INDF","INQR","CMFT","CHLD","EASE","EXCT","PERF","PLAN","HALF","WAST"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>variable<\/th>\n      <th>label<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"pageLength":10,"columnDefs":[{"name":"variable","targets":0},{"name":"label","targets":1}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section><section class="level3"><h3 id="custom-wordcharacter-limits-llm-guided">Custom Word/Character Limits (LLM-Guided)<a class="anchor" aria-label="anchor" href="#custom-wordcharacter-limits-llm-guided"></a>
</h3>
<p>When you specify <code>max_words</code> or <code>max_chars</code> in <code><a href="../reference/label_variables.html">label_variables()</a></code>, they <strong>influence the LLM prompt</strong> to generate labels within those constraints. This is more effective than post-processing truncation:</p>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Tell the LLM to generate exactly 2-word labels</span></span>
<span><span class="va">labels_two_words</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/label_variables.html">label_variables</a></span><span class="op">(</span></span>
<span>  variable_info <span class="op">=</span> <span class="va">variable_info</span>,</span>
<span>  llm_provider <span class="op">=</span> <span class="va">provider</span>,</span>
<span>  llm_model <span class="op">=</span> <span class="va">llm</span>,</span>
<span>  label_type <span class="op">=</span> <span class="st">"custom"</span>,  <span class="co"># custom allows max_words to override</span></span>
<span>  max_words <span class="op">=</span> <span class="fl">2</span>,          <span class="co"># LLM will aim for exactly 2 words</span></span>
<span>  case <span class="op">=</span> <span class="st">"title"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">labels_two_words</span><span class="op">$</span><span class="va">labels_formatted</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">DT</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html" class="external-link">datatable</a></span><span class="op">(</span>options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>scrollX <span class="op">=</span> <span class="cn">TRUE</span>, pageLength <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>, rownames <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
</details><div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-92c90e8dc363ef959611" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-92c90e8dc363ef959611">{"x":{"filter":"none","vertical":false,"data":[["A1","A2","A3","A4","A5","C1","C2","C3","C4","C5"],["Emotional Indifference","Wellbeing Inquiry","Comfort Skills","Children Affinity","Ease Creation","Work Precision","Perfection Pursuit","Plan Adherence","Half-Way Completion","Time Wastage"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>variable<\/th>\n      <th>label<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"pageLength":10,"columnDefs":[{"name":"variable","targets":0},{"name":"label","targets":1}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Tell the LLM to generate labels under 12 characters</span></span>
<span><span class="va">labels_short_chars</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/label_variables.html">label_variables</a></span><span class="op">(</span></span>
<span>  variable_info <span class="op">=</span> <span class="va">variable_info</span>,</span>
<span>  llm_provider <span class="op">=</span> <span class="va">provider</span>,</span>
<span>  llm_model <span class="op">=</span> <span class="va">llm</span>,</span>
<span>  label_type <span class="op">=</span> <span class="st">"custom"</span>,</span>
<span>  max_chars <span class="op">=</span> <span class="fl">12</span>,         <span class="co"># LLM will aim for ≤12 characters</span></span>
<span>  case <span class="op">=</span> <span class="st">"snake"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">labels_short_chars</span><span class="op">$</span><span class="va">labels_formatted</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">DT</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html" class="external-link">datatable</a></span><span class="op">(</span>options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>scrollX <span class="op">=</span> <span class="cn">TRUE</span>, pageLength <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>, rownames <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
</details><div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-e7aea2a1d5cc72c619d2" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-e7aea2a1d5cc72c619d2">{"x":{"filter":"none","vertical":false,"data":[["A1","A2","A3","A4","A5","C1","C2","C3","C4","C5"],["indifference","concern_for_","ability_to_c","affection_fo","ability_to_p","work_exactin","pursuit_of_p","planning_and","half-way_tas","time_wastage"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>variable<\/th>\n      <th>label<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"pageLength":10,"columnDefs":[{"name":"variable","targets":0},{"name":"label","targets":1}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p><strong>Key difference:</strong> - <code>max_words</code>/<code>max_chars</code> in <code><a href="../reference/label_variables.html">label_variables()</a></code>: Guides LLM to generate appropriate labels - <code>max_words</code>/<code>max_chars</code> in <code><a href="../reference/reformat_labels.html">reformat_labels()</a></code>: Truncates existing labels (less intelligent)</p>
</section></section><section class="level2"><h2 id="case-transformations">Case Transformations<a class="anchor" aria-label="anchor" href="#case-transformations"></a>
</h2>
<p>The same semantic labels can be formatted in different styles without re-calling the LLM:</p>
<section class="level3"><h3 id="snake-case-for-r-variable-names">Snake Case (for R variable names)<a class="anchor" aria-label="anchor" href="#snake-case-for-r-variable-names"></a>
</h3>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">labels_snake</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/reformat_labels.html">reformat_labels</a></span><span class="op">(</span></span>
<span>  <span class="va">labels_short</span>,</span>
<span>  case <span class="op">=</span> <span class="st">"snake"</span>  <span class="co"># Automatically sets sep = "_" and lowercase</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">labels_snake</span><span class="op">$</span><span class="va">labels_formatted</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">DT</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html" class="external-link">datatable</a></span><span class="op">(</span>options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>scrollX <span class="op">=</span> <span class="cn">TRUE</span>, pageLength <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>, rownames <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
</details><div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-d3c37ab7c6fb1da9fc10" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-d3c37ab7c6fb1da9fc10">{"x":{"filter":"none","vertical":false,"data":[["A1","A2","A3","A4","A5","C1","C2","C3","C4","C5"],["indifferent_to_others","ask_about_well-being","comfort_others","love_children","put_others_at_ease","exacting_work_standards","pursue_perfection","plan-oriented","half-way_effort","waste_time"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>variable<\/th>\n      <th>label<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"pageLength":10,"columnDefs":[{"name":"variable","targets":0},{"name":"label","targets":1}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section><section class="level3"><h3 id="camel-case-for-programming">Camel Case (for programming)<a class="anchor" aria-label="anchor" href="#camel-case-for-programming"></a>
</h3>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">labels_camel</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/reformat_labels.html">reformat_labels</a></span><span class="op">(</span></span>
<span>  <span class="va">labels_short</span>,</span>
<span>  case <span class="op">=</span> <span class="st">"camel"</span>  <span class="co"># firstWordLowerRestTitle</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">labels_camel</span><span class="op">$</span><span class="va">labels_formatted</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">DT</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html" class="external-link">datatable</a></span><span class="op">(</span>options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>scrollX <span class="op">=</span> <span class="cn">TRUE</span>, pageLength <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>, rownames <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
</details><div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-34d03f60d50f76584909" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-34d03f60d50f76584909">{"x":{"filter":"none","vertical":false,"data":[["A1","A2","A3","A4","A5","C1","C2","C3","C4","C5"],["indifferentToOthers","askAboutWell-being","comfortOthers","loveChildren","putOthersAtEase","exactingWorkStandards","pursuePerfection","plan-oriented","half-wayEffort","wasteTime"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>variable<\/th>\n      <th>label<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"pageLength":10,"columnDefs":[{"name":"variable","targets":0},{"name":"label","targets":1}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section><section class="level3"><h3 id="constant-case-for-constants">Constant Case (for constants)<a class="anchor" aria-label="anchor" href="#constant-case-for-constants"></a>
</h3>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">labels_constant</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/reformat_labels.html">reformat_labels</a></span><span class="op">(</span></span>
<span>  <span class="va">labels_short</span>,</span>
<span>  case <span class="op">=</span> <span class="st">"constant"</span>  <span class="co"># UPPER_CASE_WITH_UNDERSCORES</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">labels_constant</span><span class="op">$</span><span class="va">labels_formatted</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">DT</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html" class="external-link">datatable</a></span><span class="op">(</span>options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>scrollX <span class="op">=</span> <span class="cn">TRUE</span>, pageLength <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>, rownames <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
</details><div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-feee1a8afd9ee263613f" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-feee1a8afd9ee263613f">{"x":{"filter":"none","vertical":false,"data":[["A1","A2","A3","A4","A5","C1","C2","C3","C4","C5"],["INDIFFERENT_TO_OTHERS","ASK_ABOUT_WELL-BEING","COMFORT_OTHERS","LOVE_CHILDREN","PUT_OTHERS_AT_EASE","EXACTING_WORK_STANDARDS","PURSUE_PERFECTION","PLAN-ORIENTED","HALF-WAY_EFFORT","WASTE_TIME"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>variable<\/th>\n      <th>label<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"pageLength":10,"columnDefs":[{"name":"variable","targets":0},{"name":"label","targets":1}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section><section class="level3"><h3 id="custom-separator">Custom Separator<a class="anchor" aria-label="anchor" href="#custom-separator"></a>
</h3>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">labels_custom_sep</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/reformat_labels.html">reformat_labels</a></span><span class="op">(</span></span>
<span>  <span class="va">labels_short</span>,</span>
<span>  sep <span class="op">=</span> <span class="st">"-"</span>,      <span class="co"># Use hyphens</span></span>
<span>  case <span class="op">=</span> <span class="st">"lower"</span>  <span class="co"># all lowercase</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">labels_custom_sep</span><span class="op">$</span><span class="va">labels_formatted</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">DT</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html" class="external-link">datatable</a></span><span class="op">(</span>options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>scrollX <span class="op">=</span> <span class="cn">TRUE</span>, pageLength <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>, rownames <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
</details><div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-dce45bdf2bde011922a0" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-dce45bdf2bde011922a0">{"x":{"filter":"none","vertical":false,"data":[["A1","A2","A3","A4","A5","C1","C2","C3","C4","C5"],["indifferent-to-others","ask-about-well-being","comfort-others","love-children","put-others-at-ease","exacting-work-standards","pursue-perfection","plan-oriented","half-way-effort","waste-time"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>variable<\/th>\n      <th>label<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"pageLength":10,"columnDefs":[{"name":"variable","targets":0},{"name":"label","targets":1}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section></section><section class="level2"><h2 id="post-processing-options">Post-Processing Options<a class="anchor" aria-label="anchor" href="#post-processing-options"></a>
</h2>
<section class="level3"><h3 id="remove-articles-and-prepositions">Remove Articles and Prepositions<a class="anchor" aria-label="anchor" href="#remove-articles-and-prepositions"></a>
</h3>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">labels_simplified</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/reformat_labels.html">reformat_labels</a></span><span class="op">(</span></span>
<span>  <span class="va">labels_phrase</span>,</span>
<span>  remove_articles <span class="op">=</span> <span class="cn">TRUE</span>,       <span class="co"># Remove: a, an, the</span></span>
<span>  remove_prepositions <span class="op">=</span> <span class="cn">TRUE</span>,   <span class="co"># Remove: of, in, at, etc.</span></span>
<span>  case <span class="op">=</span> <span class="st">"snake"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Compare original phrase vs simplified</span></span>
<span><span class="va">comparison</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  variable <span class="op">=</span> <span class="va">labels_phrase</span><span class="op">$</span><span class="va">labels_formatted</span><span class="op">$</span><span class="va">variable</span>,</span>
<span>  original <span class="op">=</span> <span class="va">labels_phrase</span><span class="op">$</span><span class="va">labels_formatted</span><span class="op">$</span><span class="va">label</span>,</span>
<span>  simplified <span class="op">=</span> <span class="va">labels_simplified</span><span class="op">$</span><span class="va">labels_formatted</span><span class="op">$</span><span class="va">label</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">DT</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html" class="external-link">datatable</a></span><span class="op">(</span><span class="va">comparison</span>, options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>scrollX <span class="op">=</span> <span class="cn">TRUE</span>, pageLength <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>, rownames <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
</details><div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-5cd33d98edfe06ae3485" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-5cd33d98edfe06ae3485">{"x":{"filter":"none","vertical":false,"data":[["A1","A2","A3","A4","A5","C1","C2","C3","C4","C5"],["Indifference to others","Tendency to ask about others","Ability to provide comfort to others","Affinity for and enjoyment of children","Skill in making others feel comfortable","Demands high standards in work quality","Pursues perfection in all tasks","Preference for planned and organized approaches","Tendency to complete tasks incompletely","Likelihood of wasting available time"],["indifference_others","tendency_ask_others","ability_provide_comfort_others","affinity_and_enjoyment_children","skill_making_others_feel_comfortable","demands_high_standards_work_quality","pursues_perfection_all_tasks","preference_planned_and_organized_approaches","tendency_complete_tasks_incompletely","likelihood_wasting_available_time"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>variable<\/th>\n      <th>original<\/th>\n      <th>simplified<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"pageLength":10,"columnDefs":[{"name":"variable","targets":0},{"name":"original","targets":1},{"name":"simplified","targets":2}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section><section class="level3"><h3 id="abbreviate-long-words">Abbreviate Long Words<a class="anchor" aria-label="anchor" href="#abbreviate-long-words"></a>
</h3>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">labels_abbreviated</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/reformat_labels.html">reformat_labels</a></span><span class="op">(</span></span>
<span>  <span class="va">labels_phrase</span>,</span>
<span>  abbreviate <span class="op">=</span> <span class="cn">TRUE</span>,  <span class="co"># Apply rule-based abbreviation</span></span>
<span>  case <span class="op">=</span> <span class="st">"snake"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">comparison_abbrev</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  variable <span class="op">=</span> <span class="va">labels_phrase</span><span class="op">$</span><span class="va">labels_formatted</span><span class="op">$</span><span class="va">variable</span>,</span>
<span>  original <span class="op">=</span> <span class="va">labels_phrase</span><span class="op">$</span><span class="va">labels_formatted</span><span class="op">$</span><span class="va">label</span>,</span>
<span>  abbreviated <span class="op">=</span> <span class="va">labels_abbreviated</span><span class="op">$</span><span class="va">labels_formatted</span><span class="op">$</span><span class="va">label</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">DT</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html" class="external-link">datatable</a></span><span class="op">(</span><span class="va">comparison_abbrev</span>, options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>scrollX <span class="op">=</span> <span class="cn">TRUE</span>, pageLength <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>, rownames <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
</details><div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-f391089da91780c58c97" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-f391089da91780c58c97">{"x":{"filter":"none","vertical":false,"data":[["A1","A2","A3","A4","A5","C1","C2","C3","C4","C5"],["Indifference to others","Tendency to ask about others","Ability to provide comfort to others","Affinity for and enjoyment of children","Skill in making others feel comfortable","Demands high standards in work quality","Pursues perfection in all tasks","Preference for planned and organized approaches","Tendency to complete tasks incompletely","Likelihood of wasting available time"],["indi_to_others","tend_to_ask_about_others","ability_to_provide_comfort_to_others","affi_for_and_enjo_of_chil","skill_in_making_others_feel_comf","demands_high_stan_in_work_quality","pursues_perf_in_all_tasks","pref_for_planned_and_orga_appr","tend_to_comp_tasks_inco","like_of_wasting_avai_time"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>variable<\/th>\n      <th>original<\/th>\n      <th>abbreviated<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"pageLength":10,"columnDefs":[{"name":"variable","targets":0},{"name":"original","targets":1},{"name":"abbreviated","targets":2}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section><section class="level3"><h3 id="maximum-character-limit-post-processing">Maximum Character Limit (Post-Processing)<a class="anchor" aria-label="anchor" href="#maximum-character-limit-post-processing"></a>
</h3>
<p><strong>Note:</strong> When possible, prefer using <code>max_chars</code> in <code><a href="../reference/label_variables.html">label_variables()</a></code> (shown above) to guide the LLM. This post-processing approach simply truncates existing labels:</p>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">labels_short_max</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/reformat_labels.html">reformat_labels</a></span><span class="op">(</span></span>
<span>  <span class="va">labels_phrase</span>,</span>
<span>  max_chars <span class="op">=</span> <span class="fl">15</span>,  <span class="co"># Truncate to 15 characters (simple truncation)</span></span>
<span>  case <span class="op">=</span> <span class="st">"snake"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">comparison_max</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  variable <span class="op">=</span> <span class="va">labels_phrase</span><span class="op">$</span><span class="va">labels_formatted</span><span class="op">$</span><span class="va">variable</span>,</span>
<span>  original <span class="op">=</span> <span class="va">labels_phrase</span><span class="op">$</span><span class="va">labels_formatted</span><span class="op">$</span><span class="va">label</span>,</span>
<span>  truncated <span class="op">=</span> <span class="va">labels_short_max</span><span class="op">$</span><span class="va">labels_formatted</span><span class="op">$</span><span class="va">label</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">DT</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html" class="external-link">datatable</a></span><span class="op">(</span><span class="va">comparison_max</span>, options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>scrollX <span class="op">=</span> <span class="cn">TRUE</span>, pageLength <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>, rownames <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
</details><div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-39573d49cb253b5ef5b5" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-39573d49cb253b5ef5b5">{"x":{"filter":"none","vertical":false,"data":[["A1","A2","A3","A4","A5","C1","C2","C3","C4","C5"],["Indifference to others","Tendency to ask about others","Ability to provide comfort to others","Affinity for and enjoyment of children","Skill in making others feel comfortable","Demands high standards in work quality","Pursues perfection in all tasks","Preference for planned and organized approaches","Tendency to complete tasks incompletely","Likelihood of wasting available time"],["indifference_to","tendency_to_ask","ability_to_prov","affinity_for_an","skill_in_making","demands_high_st","pursues_perfect","preference_for_","tendency_to_com","likelihood_of_w"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>variable<\/th>\n      <th>original<\/th>\n      <th>truncated<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"pageLength":10,"columnDefs":[{"name":"variable","targets":0},{"name":"original","targets":1},{"name":"truncated","targets":2}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section><section class="level3"><h3 id="maximum-word-count-post-processing">Maximum Word Count (Post-Processing)<a class="anchor" aria-label="anchor" href="#maximum-word-count-post-processing"></a>
</h3>
<p><strong>Note:</strong> When possible, prefer using <code>max_words</code> in <code><a href="../reference/label_variables.html">label_variables()</a></code> (shown above) to guide the LLM. This post-processing approach simply truncates existing labels:</p>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">labels_limited_words</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/reformat_labels.html">reformat_labels</a></span><span class="op">(</span></span>
<span>  <span class="va">labels_phrase</span>,</span>
<span>  max_words <span class="op">=</span> <span class="fl">2</span>,   <span class="co"># Keep only first 2 words (simple truncation)</span></span>
<span>  case <span class="op">=</span> <span class="st">"title"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">comparison_words</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  variable <span class="op">=</span> <span class="va">labels_phrase</span><span class="op">$</span><span class="va">labels_formatted</span><span class="op">$</span><span class="va">variable</span>,</span>
<span>  original <span class="op">=</span> <span class="va">labels_phrase</span><span class="op">$</span><span class="va">labels_formatted</span><span class="op">$</span><span class="va">label</span>,</span>
<span>  limited <span class="op">=</span> <span class="va">labels_limited_words</span><span class="op">$</span><span class="va">labels_formatted</span><span class="op">$</span><span class="va">label</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">DT</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html" class="external-link">datatable</a></span><span class="op">(</span><span class="va">comparison_words</span>, options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>scrollX <span class="op">=</span> <span class="cn">TRUE</span>, pageLength <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>, rownames <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
</details><div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-6ee430446bfaaea5331f" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-6ee430446bfaaea5331f">{"x":{"filter":"none","vertical":false,"data":[["A1","A2","A3","A4","A5","C1","C2","C3","C4","C5"],["Indifference to others","Tendency to ask about others","Ability to provide comfort to others","Affinity for and enjoyment of children","Skill in making others feel comfortable","Demands high standards in work quality","Pursues perfection in all tasks","Preference for planned and organized approaches","Tendency to complete tasks incompletely","Likelihood of wasting available time"],["Indifference To","Tendency To","Ability To","Affinity For","Skill In","Demands High","Pursues Perfection","Preference For","Tendency To","Likelihood Of"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>variable<\/th>\n      <th>original<\/th>\n      <th>limited<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"pageLength":10,"columnDefs":[{"name":"variable","targets":0},{"name":"original","targets":1},{"name":"limited","targets":2}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section></section><section class="level2"><h2 id="combining-multiple-transformations">Combining Multiple Transformations<a class="anchor" aria-label="anchor" href="#combining-multiple-transformations"></a>
</h2>
<p>You can combine multiple post-processing options for maximum control:</p>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">labels_kitchen_sink</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/reformat_labels.html">reformat_labels</a></span><span class="op">(</span></span>
<span>  <span class="va">labels_phrase</span>,</span>
<span>  remove_articles <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  remove_prepositions <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  max_words <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  abbreviate <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  max_chars <span class="op">=</span> <span class="fl">20</span>,</span>
<span>  case <span class="op">=</span> <span class="st">"snake"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">comparison_combined</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  variable <span class="op">=</span> <span class="va">labels_phrase</span><span class="op">$</span><span class="va">labels_formatted</span><span class="op">$</span><span class="va">variable</span>,</span>
<span>  original <span class="op">=</span> <span class="va">labels_phrase</span><span class="op">$</span><span class="va">labels_formatted</span><span class="op">$</span><span class="va">label</span>,</span>
<span>  processed <span class="op">=</span> <span class="va">labels_kitchen_sink</span><span class="op">$</span><span class="va">labels_formatted</span><span class="op">$</span><span class="va">label</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">DT</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html" class="external-link">datatable</a></span><span class="op">(</span><span class="va">comparison_combined</span>, options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>scrollX <span class="op">=</span> <span class="cn">TRUE</span>, pageLength <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>, rownames <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
</details><div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-6f2bc6b6f3494be54ce2" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-6f2bc6b6f3494be54ce2">{"x":{"filter":"none","vertical":false,"data":[["A1","A2","A3","A4","A5","C1","C2","C3","C4","C5"],["Indifference to others","Tendency to ask about others","Ability to provide comfort to others","Affinity for and enjoyment of children","Skill in making others feel comfortable","Demands high standards in work quality","Pursues perfection in all tasks","Preference for planned and organized approaches","Tendency to complete tasks incompletely","Likelihood of wasting available time"],["indi_others","tend_ask_others","ability_provide_comf","affi_and_enjo","skill_making_others","demands_high_stan","pursues_perf_all","pref_planned_and","tend_comp_tasks","like_wasting_avai"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th>variable<\/th>\n      <th>original<\/th>\n      <th>processed<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"pageLength":10,"columnDefs":[{"name":"variable","targets":0},{"name":"original","targets":1},{"name":"processed","targets":2}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section><section class="level2"><h2 id="export-labels">Export Labels<a class="anchor" aria-label="anchor" href="#export-labels"></a>
</h2>
<p>Save your labels for use in other tools:</p>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Export to CSV (comma-separated, most common)</span></span>
<span><span class="fu"><a href="../reference/export_labels.html">export_labels</a></span><span class="op">(</span><span class="va">labels_snake</span>, <span class="st">"bfi_labels.csv"</span>, format <span class="op">=</span> <span class="st">"csv"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Export to CSV2 (semicolon-separated, common in Europe)</span></span>
<span><span class="fu"><a href="../reference/export_labels.html">export_labels</a></span><span class="op">(</span><span class="va">labels_snake</span>, <span class="st">"bfi_labels.csv"</span>, format <span class="op">=</span> <span class="st">"csv2"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Export to TXT (tab-separated)</span></span>
<span><span class="fu"><a href="../reference/export_labels.html">export_labels</a></span><span class="op">(</span><span class="va">labels_snake</span>, <span class="st">"bfi_labels.txt"</span>, format <span class="op">=</span> <span class="st">"txt"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Export to Excel</span></span>
<span><span class="fu"><a href="../reference/export_labels.html">export_labels</a></span><span class="op">(</span><span class="va">labels_snake</span>, <span class="st">"bfi_labels.xlsx"</span>, format <span class="op">=</span> <span class="st">"xlsx"</span><span class="op">)</span></span></code></pre></div>
</details>
</div>
<p>All formats create a table with <code>variable</code> and <code>label</code> columns that can be imported into other software.</p>
</section><section class="level2"><h2 id="using-labels-in-analysis">Using Labels in Analysis<a class="anchor" aria-label="anchor" href="#using-labels-in-analysis"></a>
</h2>
<p>Apply the generated labels to your data:</p>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Extract labels as named vector</span></span>
<span><span class="va">label_vector</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/setNames.html" class="external-link">setNames</a></span><span class="op">(</span></span>
<span>  <span class="va">labels_snake</span><span class="op">$</span><span class="va">labels_formatted</span><span class="op">$</span><span class="va">label</span>,</span>
<span>  <span class="va">labels_snake</span><span class="op">$</span><span class="va">labels_formatted</span><span class="op">$</span><span class="va">variable</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Apply to column names</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">bfi_subset</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">label_vector</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">bfi_subset</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Show result</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">bfi_subset</span>, <span class="fl">5</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">DT</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html" class="external-link">datatable</a></span><span class="op">(</span>options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>scrollX <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</details><div class="cell-output-display">
<div class="datatables html-widget html-fill-item" id="htmlwidget-ca62cc128009ba6a517f" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-ca62cc128009ba6a517f">{"x":{"filter":"none","vertical":false,"data":[["61617","61618","61620","61621","61622"],[2,2,5,4,2],[4,4,4,4,3],[3,5,5,6,3],[4,2,4,5,4],[4,5,4,5,5],[2,5,4,4,4],[3,4,5,4,4],[3,4,4,3,5],[4,3,2,5,3],[4,4,5,5,2]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>indifferent_to_others<\/th>\n      <th>ask_about_well-being<\/th>\n      <th>comfort_others<\/th>\n      <th>love_children<\/th>\n      <th>put_others_at_ease<\/th>\n      <th>exacting_work_standards<\/th>\n      <th>pursue_perfection<\/th>\n      <th>plan-oriented<\/th>\n      <th>half-way_effort<\/th>\n      <th>waste_time<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"columnDefs":[{"className":"dt-right","targets":[1,2,3,4,5,6,7,8,9,10]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"indifferent_to_others","targets":1},{"name":"ask_about_well-being","targets":2},{"name":"comfort_others","targets":3},{"name":"love_children","targets":4},{"name":"put_others_at_ease","targets":5},{"name":"exacting_work_standards","targets":6},{"name":"pursue_perfection","targets":7},{"name":"plan-oriented","targets":8},{"name":"half-way_effort","targets":9},{"name":"waste_time","targets":10}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Now your data has readable variable names!</p>
</section><section class="level2"><h2 id="configuration-objects">Configuration Objects<a class="anchor" aria-label="anchor" href="#configuration-objects"></a>
</h2>
<p>For repeated labeling tasks, use configuration objects:</p>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Define your preferred formatting style</span></span>
<span><span class="va">my_label_config</span> <span class="op">&lt;-</span> <span class="fu">labeling_args</span><span class="op">(</span></span>
<span>  label_type <span class="op">=</span> <span class="st">"short"</span>,</span>
<span>  case <span class="op">=</span> <span class="st">"snake"</span>,</span>
<span>  remove_articles <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  max_words <span class="op">=</span> <span class="fl">3</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Use across multiple datasets</span></span>
<span><span class="va">labels_1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/label_variables.html">label_variables</a></span><span class="op">(</span></span>
<span>  <span class="va">dataset1_info</span>,</span>
<span>  labeling_args <span class="op">=</span> <span class="va">my_label_config</span>,</span>
<span>  llm_provider <span class="op">=</span> <span class="va">provider</span>,</span>
<span>  llm_model <span class="op">=</span> <span class="va">llm</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">labels_2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/label_variables.html">label_variables</a></span><span class="op">(</span></span>
<span>  <span class="va">dataset2_info</span>,</span>
<span>  labeling_args <span class="op">=</span> <span class="va">my_label_config</span>,</span>
<span>  llm_provider <span class="op">=</span> <span class="va">provider</span>,</span>
<span>  llm_model <span class="op">=</span> <span class="va">llm</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Direct parameters override config</span></span>
<span><span class="va">labels_3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/label_variables.html">label_variables</a></span><span class="op">(</span></span>
<span>  <span class="va">dataset3_info</span>,</span>
<span>  labeling_args <span class="op">=</span> <span class="va">my_label_config</span>,</span>
<span>  case <span class="op">=</span> <span class="st">"camel"</span>,  <span class="co"># Override the snake_case from config</span></span>
<span>  llm_provider <span class="op">=</span> <span class="va">provider</span>,</span>
<span>  llm_model <span class="op">=</span> <span class="va">llm</span></span>
<span><span class="op">)</span></span></code></pre></div>
</details>
</div>
</section><section class="level2"><h2 id="reusing-chat-sessions">Reusing Chat Sessions<a class="anchor" aria-label="anchor" href="#reusing-chat-sessions"></a>
</h2>
<p>For efficiency when labeling multiple datasets:</p>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create persistent chat session</span></span>
<span><span class="va">chat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/chat_session.html">chat_session</a></span><span class="op">(</span></span>
<span>  analysis_type <span class="op">=</span> <span class="st">"label"</span>,</span>
<span>  llm_provider <span class="op">=</span> <span class="va">provider</span>,</span>
<span>  llm_model <span class="op">=</span> <span class="va">llm</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Reuse session for multiple labeling calls</span></span>
<span><span class="va">labels_1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/label_variables.html">label_variables</a></span><span class="op">(</span><span class="va">dataset1_info</span>, chat_session <span class="op">=</span> <span class="va">chat</span><span class="op">)</span></span>
<span><span class="va">labels_2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/label_variables.html">label_variables</a></span><span class="op">(</span><span class="va">dataset2_info</span>, chat_session <span class="op">=</span> <span class="va">chat</span><span class="op">)</span></span>
<span><span class="va">labels_3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/label_variables.html">label_variables</a></span><span class="op">(</span><span class="va">dataset3_info</span>, chat_session <span class="op">=</span> <span class="va">chat</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Check total token usage</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Total tokens used:"</span>,</span>
<span>    <span class="va">chat</span><span class="op">$</span><span class="va">total_input_tokens</span> <span class="op">+</span> <span class="va">chat</span><span class="op">$</span><span class="va">total_output_tokens</span>, <span class="st">"\n"</span><span class="op">)</span></span></code></pre></div>
</details>
</div>
</section><section class="level2"><h2 id="summary">Summary<a class="anchor" aria-label="anchor" href="#summary"></a>
</h2>
<p>The <code><a href="../reference/label_variables.html">label_variables()</a></code> function provides:</p>
<ul>
<li>
<strong>Semantic understanding</strong>: LLMs generate meaningful labels from descriptions</li>
<li>
<strong>Flexible formatting</strong>: Multiple case styles, separators, and transformations</li>
<li>
<strong>Efficient workflow</strong>: Reformat without re-calling the LLM</li>
<li>
<strong>Multiple export options</strong>: CSV, JSON, R scripts</li>
<li>
<strong>Configuration reuse</strong>: Define once, apply many times</li>
</ul>
<p><strong>Key parameters:</strong></p>
<table class="table caption-top">
<colgroup>
<col style="width: 26%">
<col style="width: 21%">
<col style="width: 30%">
<col style="width: 21%">
</colgroup>
<thead><tr class="header">
<th>Parameter</th>
<th>Options</th>
<th>LLM-Guided?</th>
<th>Purpose</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>label_type</code></td>
<td>
<code>"short"</code>, <code>"phrase"</code>, <code>"acronym"</code>, <code>"custom"</code>
</td>
<td>✓ Yes</td>
<td>Control label length via prompt</td>
</tr>
<tr class="even">
<td><code>max_words</code></td>
<td>Integer</td>
<td>✓ Yes (in <code><a href="../reference/label_variables.html">label_variables()</a></code>)</td>
<td>Tell LLM exact word count to generate</td>
</tr>
<tr class="odd">
<td><code>max_chars</code></td>
<td>Integer</td>
<td>✓ Yes (in <code><a href="../reference/label_variables.html">label_variables()</a></code>)</td>
<td>Tell LLM max character length</td>
</tr>
<tr class="even">
<td><code>style_hint</code></td>
<td>Character</td>
<td>✓ Yes</td>
<td>Provide style guidance to LLM</td>
</tr>
<tr class="odd">
<td><code>case</code></td>
<td>
<code>"snake"</code>, <code>"camel"</code>, <code>"title"</code>, <code>"upper"</code>, etc.</td>
<td>Post-process</td>
<td>Case transformation</td>
</tr>
<tr class="even">
<td><code>sep</code></td>
<td>
<code>" "</code>, <code>"_"</code>, <code>"-"</code>, <code>""</code>
</td>
<td>Post-process</td>
<td>Word separator</td>
</tr>
<tr class="odd">
<td><code>remove_articles</code></td>
<td>
<code>TRUE</code>/<code>FALSE</code>
</td>
<td>Post-process</td>
<td>Remove a, an, the</td>
</tr>
<tr class="even">
<td><code>remove_prepositions</code></td>
<td>
<code>TRUE</code>/<code>FALSE</code>
</td>
<td>Post-process</td>
<td>Remove of, in, at, etc.</td>
</tr>
<tr class="odd">
<td><code>abbreviate</code></td>
<td>
<code>TRUE</code>/<code>FALSE</code>
</td>
<td>Post-process</td>
<td>Apply abbreviation rules</td>
</tr>
</tbody>
</table>
<p><strong>Important:</strong> Parameters marked “LLM-Guided” influence what the model generates when used in <code><a href="../reference/label_variables.html">label_variables()</a></code>. All parameters can also be used in <code><a href="../reference/reformat_labels.html">reformat_labels()</a></code> for post-processing without calling the LLM again.</p>
</section><section class="level2"><h2 id="session-info">Session Info<a class="anchor" aria-label="anchor" href="#session-info"></a>
</h2>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">pander</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/pander/man/pander.html" class="external-link">pander</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/sessionInfo.html" class="external-link">sessionInfo</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</details><div class="cell-output-display">
<p><strong>R version 4.5.2 (2025-10-31 ucrt)</strong></p>
<p><strong>Platform:</strong> x86_64-w64-mingw32/x64</p>
<p><strong>locale:</strong> <em>LC_COLLATE=German_Germany.utf8</em>, <em>LC_CTYPE=German_Germany.utf8</em>, <em>LC_MONETARY=German_Germany.utf8</em>, <em>LC_NUMERIC=C</em> and <em>LC_TIME=German_Germany.utf8</em></p>
<p><strong>attached base packages:</strong> <em>stats</em>, <em>graphics</em>, <em>grDevices</em>, <em>utils</em>, <em>datasets</em>, <em>methods</em> and <em>base</em></p>
<p><strong>other attached packages:</strong> <em>DT(v.0.34.0)</em>, <em>psych(v.2.5.6)</em>, <em>psychinterpreter(v.0.0.0.9000)</em> and <em>pacman(v.0.5.1)</em></p>
<p><strong>loaded via a namespace (and not attached):</strong> <em>rappdirs(v.0.3.3)</em>, <em>sass(v.0.4.10)</em>, <em>generics(v.0.1.4)</em>, <em>tidyr(v.1.3.1)</em>, <em>lattice(v.0.22-7)</em>, <em>digest(v.0.6.37)</em>, <em>magrittr(v.2.0.3)</em>, <em>evaluate(v.1.0.5)</em>, <em>grid(v.4.5.2)</em>, <em>RColorBrewer(v.1.1-3)</em>, <em>fastmap(v.1.2.0)</em>, <em>jsonlite(v.2.0.0)</em>, <em>purrr(v.1.0.4)</em>, <em>pander(v.0.6.6)</em>, <em>crosstalk(v.1.2.2)</em>, <em>scales(v.1.4.0)</em>, <em>coro(v.1.1.0)</em>, <em>httr2(v.1.2.1)</em>, <em>jquerylib(v.0.1.4)</em>, <em>mnormt(v.2.1.1)</em>, <em>cli(v.3.6.5)</em>, <em>rlang(v.1.1.6)</em>, <em>withr(v.3.0.2)</em>, <em>cachem(v.1.1.0)</em>, <em>yaml(v.2.3.10)</em>, <em>tools(v.4.5.2)</em>, <em>parallel(v.4.5.2)</em>, <em>dplyr(v.1.1.4)</em>, <em>ggplot2(v.4.0.1)</em>, <em>curl(v.7.0.0)</em>, <em>vctrs(v.0.6.5)</em>, <em>R6(v.2.6.1)</em>, <em>lifecycle(v.1.0.4)</em>, <em>htmlwidgets(v.1.6.4)</em>, <em>pkgconfig(v.2.0.3)</em>, <em>pillar(v.1.11.1)</em>, <em>bslib(v.0.9.0)</em>, <em>gtable(v.0.3.6)</em>, <em>glue(v.1.8.0)</em>, <em>Rcpp(v.1.1.0)</em>, <em>xfun(v.0.53)</em>, <em>tibble(v.3.3.0)</em>, <em>tidyselect(v.1.2.1)</em>, <em>rstudioapi(v.0.17.1)</em>, <em>knitr(v.1.50)</em>, <em>farver(v.2.1.2)</em>, <em>htmltools(v.0.5.8.1)</em>, <em>nlme(v.3.1-168)</em>, <em>rmarkdown(v.2.30)</em>, <em>ellmer(v.0.4.0)</em>, <em>compiler(v.4.5.2)</em> and <em>S7(v.0.2.0)</em></p>
</div>
</div>
</section><script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'light-border',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config);
    }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script></main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Matthias Kloft.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
